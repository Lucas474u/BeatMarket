<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeatMarket - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –±–∏—Ç–æ–≤</title>
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéµ</text></svg>">
    <!-- Web App Manifest -->
    <link rel="manifest" id="app-manifest">
    <style>
        :root {
            --primary: #FFFFFF;
            --primary-dark: #E0E0E0;
            --secondary: #6C63FF;
            --accent: #FF6584;
            --dark: #0A0A0A;
            --darker: #000000;
            --light: #FFFFFF;
            --gray: #8A8AA0;
            --dark-gray: #333333;
            --success: #4CAF50;
            --warning: #FF9800;
            --error: #F44336;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--darker);
            color: var(--light);
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            background-color: var(--dark);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .logo img {
            height: 40px;
            width: auto;
            border-radius: 8px;
        }

        .logo h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--light);
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: var(--light);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--secondary);
        }

        .wallet-section {
            position: relative;
        }

        .connect-wallet-btn {
            background-color: var(--light);
            color: var(--darker);
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
        }

        .connect-wallet-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 255, 255, 0.2);
            background-color: var(--primary-dark);
        }

        .wallet-modal {
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 10px;
            background-color: var(--dark);
            border-radius: 12px;
            padding: 20px;
            width: 320px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: none;
            z-index: 101;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .wallet-modal.active {
            display: block;
        }

        .wallet-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-bottom: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .wallet-option:hover {
            background-color: rgba(255, 255, 255, 0.05);
            border-color: var(--secondary);
        }

        .wallet-option img {
            width: 30px;
            height: 30px;
            border-radius: 6px;
        }

        .wallet-info {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .wallet-info.active {
            display: block;
        }

        .wallet-address {
            font-family: monospace;
            background-color: rgba(0, 0, 0, 0.2);
            padding: 5px 10px;
            border-radius: 4px;
            margin: 10px 0;
            word-break: break-all;
        }

        .balance {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 10px 0;
        }

        /* Hero Section */
        .hero {
            padding: 100px 0;
            text-align: center;
            background: linear-gradient(135deg, var(--dark) 0%, var(--darker) 100%);
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 20%, rgba(108, 99, 255, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 70% 80%, rgba(255, 101, 132, 0.1) 0%, transparent 50%);
            z-index: 0;
        }

        .hero-content {
            position: relative;
            z-index: 1;
        }

        .hero h2 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            color: var(--light);
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 30px;
            color: var(--gray);
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .btn-primary {
            background-color: var(--light);
            color: var(--darker);
        }

        .btn-secondary {
            background: transparent;
            color: var(--light);
            border: 2px solid var(--light);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 255, 255, 0.2);
        }

        /* Beats Grid */
        .beats-section {
            padding: 80px 0;
        }

        .section-title {
            font-size: 2.2rem;
            margin-bottom: 40px;
            text-align: center;
            color: var(--light);
        }

        .beats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
        }

        .beat-card {
            background-color: var(--dark);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .beat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            border-color: rgba(255, 255, 255, 0.1);
        }

        .beat-image {
            height: 200px;
            width: 100%;
            background: linear-gradient(135deg, var(--dark-gray), var(--dark));
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .beat-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .play-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(0, 0, 0, 0.7);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background-color 0.3s;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .play-button:hover {
            background-color: rgba(0, 0, 0, 0.9);
            border-color: var(--light);
        }

        .play-button i {
            color: white;
            font-size: 20px;
        }

        .beat-info {
            padding: 20px;
        }

        .beat-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--light);
        }

        .beat-producer {
            color: var(--gray);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .producer-avatar {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            object-fit: cover;
        }

        .beat-stats {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            font-size: 0.9rem;
            color: var(--gray);
        }

        .beat-stat {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .beat-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--light);
            margin-bottom: 15px;
        }

        .beat-actions {
            display: flex;
            justify-content: space-between;
        }

        .reaction-btn {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: color 0.3s;
            padding: 5px 10px;
            border-radius: 20px;
        }

        .reaction-btn:hover {
            color: var(--accent);
            background-color: rgba(255, 101, 132, 0.1);
        }

        .reaction-btn.active {
            color: var(--accent);
        }

        .buy-btn {
            background-color: var(--light);
            color: var(--darker);
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .buy-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 255, 255, 0.2);
        }

        .buy-btn:disabled {
            background-color: var(--dark-gray);
            color: var(--gray);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Beat Detail Page */
        .beat-detail {
            padding: 60px 0;
            display: none;
        }

        .beat-detail.active {
            display: block;
        }

        .back-button {
            background: none;
            border: none;
            color: var(--light);
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 30px;
            font-size: 1rem;
            transition: color 0.3s;
        }

        .back-button:hover {
            color: var(--secondary);
        }

        .beat-detail-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }

        .beat-detail-image {
            border-radius: 12px;
            overflow: hidden;
            height: 400px;
        }

        .beat-detail-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .beat-detail-info {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .beat-detail-title {
            font-size: 2.5rem;
            color: var(--light);
        }

        .producer-info {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .producer-avatar-large {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }

        .producer-details h3 {
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .producer-stats {
            display: flex;
            gap: 15px;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .beat-detail-stats {
            display: flex;
            gap: 20px;
            margin: 20px 0;
        }

        .beat-detail-stat {
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--light);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .beat-detail-price {
            font-size: 2rem;
            font-weight: 700;
            color: var(--light);
            margin: 20px 0;
        }

        .beat-detail-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        /* Upload Section */
        .upload-section {
            padding: 60px 0;
            background-color: rgba(255, 255, 255, 0.02);
            display: none;
        }

        .upload-section.active {
            display: block;
        }

        .upload-form {
            max-width: 600px;
            margin: 0 auto;
            background-color: var(--dark);
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--light);
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--light);
            font-size: 1rem;
        }

        .form-control:focus {
            outline: none;
            border-color: var(--secondary);
        }

        /* Footer */
        footer {
            background-color: var(--dark);
            padding: 40px 0 20px;
            margin-top: 60px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 40px;
            margin-bottom: 30px;
        }

        .footer-column {
            flex: 1;
            min-width: 200px;
        }

        .footer-column h3 {
            font-size: 1.2rem;
            margin-bottom: 20px;
            color: var(--light);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 10px;
        }

        .footer-column ul li a {
            color: var(--gray);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-column ul li a:hover {
            color: var(--secondary);
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--gray);
        }

        /* Withdraw Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--dark);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--light);
        }

        .close-modal {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.5rem;
            cursor: pointer;
        }

        .commission-info {
            background-color: rgba(255, 255, 255, 0.05);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 99;
        }

        .admin-btn {
            background-color: var(--light);
            color: var(--darker);
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 255, 255, 0.2);
        }

        .admin-modal {
            position: absolute;
            bottom: 60px;
            right: 0;
            background-color: var(--dark);
            border-radius: 12px;
            padding: 20px;
            width: 300px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: none;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .admin-modal.active {
            display: block;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h2 {
                font-size: 2.2rem;
            }
            
            .beats-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            }
            
            .footer-content {
                flex-direction: column;
            }
            
            .beat-detail-content {
                grid-template-columns: 1fr;
            }
            
            .nav-links {
                display: none;
            }
    
     } .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 10000;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            max-width: 300px;
        }
        
        .notification.success {
            background-color: var(--success);
        }
        
        .notification.error {
            background-color: var(--error);
        }
        
        .notification.info {
            background-color: var(--secondary);
        }
        
        .notification.warning {
            background-color: var(--warning);
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- –í–µ—Å—å HTML –∫–æ–¥ –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–∞–∫–∏–º –∂–µ –∫–∞–∫ –≤ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ -->
    <!-- Header, Hero, Sections, Footer –∏ —Ç.–¥. -->

    <script>
        // –°–æ–∑–¥–∞–µ–º –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –º–∞–Ω–∏—Ñ–µ—Å—Ç –¥–ª—è PWA
        function setupManifest() {
            const manifest = {
                "name": "BeatMarket",
                "short_name": "BeatMarket",
                "description": "–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ –∏ –ø–æ–∫—É–ø–∫–∏ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –±–∏—Ç–æ–≤",
                "start_url": "/",
                "display": "standalone",
                "background_color": "#0A0A0A",
                "theme_color": "#6C63FF",
                "orientation": "portrait",
                "icons": [
                    {
                        "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%236C63FF'/><text x='50' y='70' font-family='Arial' font-size='60' text-anchor='middle' fill='white'>üéµ</text></svg>",
                        "sizes": "192x192",
                        "type": "image/svg+xml"
                    },
                    {
                        "src": "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' fill='%236C63FF'/><text x='50' y='70' font-family='Arial' font-size='60' text-anchor='middle' fill='white'>üéµ</text></svg>",
                        "sizes": "512x512",
                        "type": "image/svg+xml"
                    }
                ]
            };
            
            const manifestBlob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
            const manifestURL = URL.createObjectURL(manifestBlob);
            document.getElementById('app-manifest').setAttribute('href', manifestURL);
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –æ–±–ª–æ–∂–∫–∞–º–∏
        const initialBeatsData = [
            {
                id: 1,
                title: "Midnight Vibes",
                producer: "DJ Prodigy",
                producerId: "user_001",
                producerAvatar: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZGolMjBwcm9maWxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                producerJoinDate: "2022-03-15",
                producerSales: 42,
                price: 0.15,
                image: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
                likes: 24,
                isLiked: false,
                plays: 156,
                purchases: 18,
                uploadDate: "2023-09-10",
                audio: "https://www.soundjay.com/button/beep-07.wav",
                description: "–¢–µ–º–Ω—ã–π –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–π –±–∏—Ç —Å –≥–ª—É–±–æ–∫–∏–º–∏ –±–∞—Å–∞–º–∏ –∏ –º–µ–ª–∞–Ω—Ö–æ–ª–∏—á–Ω—ã–º–∏ –º–µ–ª–æ–¥–∏—è–º–∏. –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Ö–∏–ø-—Ö–æ–ø –∏ R&B —Ç—Ä–µ–∫–æ–≤."
            },
            {
                id: 2,
                title: "Urban Dreams",
                producer: "Beat Master",
                producerId: "user_002",
                producerAvatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBvcnRyYWl0fGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                producerJoinDate: "2021-11-08",
                producerSales: 87,
                price: 0.2,
                image: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
                likes: 42,
                isLiked: false,
                plays: 243,
                purchases: 31,
                uploadDate: "2023-08-22",
                audio: "https://www.soundjay.com/button/beep-07.wav",
                description: "–≠–Ω–µ—Ä–≥–∏—á–Ω—ã–π —É–ª–∏—á–Ω—ã–π –±–∏—Ç —Å —Ç—è–∂–µ–ª—ã–º–∏ –±–∞—Ä–∞–±–∞–Ω–∞–º–∏ –∏ –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è —Å–∏–Ω—Ç–µ–∑–∞—Ç–æ—Ä–Ω—ã–º —Ä–∏—Ñ–æ–º. –°–æ–∑–¥–∞–Ω –¥–ª—è —Ä—ç–ø-–±–∞—Ç—Ç–ª–æ–≤ –∏ –∫–ª—É–±–Ω—ã—Ö —Ç—Ä–µ–∫–æ–≤."
            },
            {
                id: 3,
                title: "Neon Lights",
                producer: "Synth Wizard",
                producerId: "user_003",
                producerAvatar: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXZhdGFyfGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                producerJoinDate: "2023-01-20",
                producerSales: 15,
                price: 0.12,
                image: "https://images.unsplash.com/photo-1514525253161-7a46d19cd819?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
                likes: 18,
                isLiked: false,
                plays: 98,
                purchases: 9,
                uploadDate: "2023-10-05",
                audio: "https://www.soundjay.com/button/beep-07.wav",
                description: "–°–∏–Ω—Ç–≤–µ–π–≤ –±–∏—Ç —Å —Ä–µ—Ç—Ä–æ-–∞—Ç–º–æ—Å—Ñ–µ—Ä–æ–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º –∑–≤—É—á–∞–Ω–∏–µ–º. –í–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω –º—É–∑—ã–∫–æ–π 80-—Ö —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ —Ñ—å—é—á–µ—Ä-–±–µ–π—Å."
            },
            {
                id: 4,
                title: "Ocean Breeze",
                producer: "Wave Maker",
                producerId: "user_004",
                producerAvatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YXZhdGFyfGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                producerJoinDate: "2022-07-12",
                producerSales: 56,
                price: 0.18,
                image: "https://images.unsplash.com/photo-1494232410401-ad00d5433cfa?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80",
                likes: 31,
                isLiked: false,
                plays: 187,
                purchases: 22,
                uploadDate: "2023-09-28",
                audio: "https://www.soundjay.com/button/beep-07.wav",
                description: "–†–∞—Å—Å–ª–∞–±–ª—è—é—â–∏–π –±–∏—Ç —Å –º–æ—Ä—Å–∫–æ–π —Ç–µ–º–∞—Ç–∏–∫–æ–π, –ø–ª–∞–≤–Ω—ã–º–∏ –º–µ–ª–æ–¥–∏—è–º–∏ –∏ —É—Å–ø–æ–∫–∞–∏–≤–∞—é—â–∏–º–∏ –∑–≤—É–∫–∞–º–∏ –æ–∫–µ–∞–Ω–∞. –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª–æ—É-—Ñ–∞–π –∏ —á–∏–ª–ª–∞—É—Ç –º—É–∑—ã–∫–∏."
            }
        ];

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        const initialUsersData = {
            "user_001": {
                name: "DJ Prodigy",
                avatar: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8ZGolMjBwcm9maWxlfGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                joinDate: "2022-03-15",
                totalSales: 42,
                totalEarnings: 6.3,
                beats: [1, 5, 8],
                rating: 4.8
            },
            "user_002": {
                name: "Beat Master",
                avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZmlsZSUyMHBvcnRyYWl0fGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                joinDate: "2021-11-08",
                totalSales: 87,
                totalEarnings: 17.4,
                beats: [2, 6, 9],
                rating: 4.9
            },
            "user_003": {
                name: "Synth Wizard",
                avatar: "https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXZhdGFyfGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                joinDate: "2023-01-20",
                totalSales: 15,
                totalEarnings: 1.8,
                beats: [3, 7],
                rating: 4.5
            },
            "user_004": {
                name: "Wave Maker",
                avatar: "https://images.unsplash.com/photo-1494790108755-2616b612b786?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8YXZhdGFyfGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60",
                joinDate: "2022-07-12",
                totalSales: 56,
                totalEarnings: 10.08,
                beats: [4, 10],
                rating: 4.7
            }
        };

        // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ localStorage –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
        let beatsData = JSON.parse(localStorage.getItem('beatsData')) || initialBeatsData;
        let usersData = JSON.parse(localStorage.getItem('usersData')) || initialUsersData;

        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        let appState = {
            connectedWallet: localStorage.getItem('connectedWallet'),
            walletType: localStorage.getItem('walletType'),
            userBalance: parseFloat(localStorage.getItem('userBalance')) || 0,
            commissionRate: parseInt(localStorage.getItem('commissionRate')) || 5,
            currentAudio: null,
            currentUser: null,
            currentView: localStorage.getItem('currentView') || 'home'
        };

        // –ü–æ–ª—É—á–∞–µ–º DOM —ç–ª–µ–º–µ–Ω—Ç—ã
        const connectWalletBtn = document.getElementById('connectWalletBtn');
        const walletModal = document.getElementById('walletModal');
        const walletOptions = document.querySelectorAll('.wallet-option');
        const walletInfo = document.getElementById('walletInfo');
        const walletAddress = document.getElementById('walletAddress');
        const walletBalance = document.getElementById('walletBalance');
        const disconnectWalletBtn = document.getElementById('disconnectWallet');
        const withdrawBtn = document.getElementById('withdrawBtn');
        const withdrawModal = document.getElementById('withdrawModal');
        const closeWithdrawModal = document.getElementById('closeWithdrawModal');
        const confirmWithdraw = document.getElementById('confirmWithdraw');
        const withdrawAmount = document.getElementById('withdrawAmount');
        const withdrawCommission = document.getElementById('withdrawCommission');
        const withdrawReceive = document.getElementById('withdrawReceive');
        const exploreBeatsBtn = document.getElementById('exploreBeatsBtn');
        const uploadBeatBtn = document.getElementById('uploadBeatBtn');
        const uploadSection = document.getElementById('uploadSection');
        const beatsSection = document.getElementById('beatsSection');
        const producersSection = document.getElementById('producersSection');
        const aboutSection = document.getElementById('aboutSection');
        const heroSection = document.getElementById('heroSection');
        const beatDetail = document.getElementById('beatDetail');
        const backButton = document.getElementById('backButton');
        const beatDetailContent = document.getElementById('beatDetailContent');
        const beatsGrid = document.getElementById('beatsGrid');
        const producersGrid = document.getElementById('producersGrid');
        const uploadBeatSubmit = document.getElementById('uploadBeatSubmit');
        const adminBtn = document.getElementById('adminBtn');
        const adminModal = document.getElementById('adminModal');
        const commissionRateInput = document.getElementById('commissionRate');
        const siteLogoInput = document.getElementById('siteLogo');
        const siteLogoImg = document.getElementById('site-logo');
        const saveAdminSettings = document.getElementById('saveAdminSettings');
        const homeLink = document.getElementById('homeLink');
        const beatsLink = document.getElementById('beatsLink');
        const producersLink = document.getElementById('producersLink');
        const aboutLink = document.getElementById('aboutLink');
        const footerHomeLink = document.getElementById('footerHomeLink');
        const footerBeatsLink = document.getElementById('footerBeatsLink');
        const footerProducersLink = document.getElementById('footerProducersLink');
        const footerAboutLink = document.getElementById('footerAboutLink');

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
        function initApp() {
            setupManifest();
            renderBeats();
            renderProducers();
            setupEventListeners();
            loadAdminSettings();
            
            // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            if (appState.connectedWallet) {
                walletAddress.textContent = `${appState.connectedWallet.substring(0, 6)}...${appState.connectedWallet.substring(appState.connectedWallet.length - 4)}`;
                walletBalance.textContent = appState.userBalance.toFixed(4);
                walletInfo.classList.add('active');
                connectWalletBtn.innerHTML = `<i class="fas fa-wallet"></i> ${formatWalletName(appState.walletType)}`;
            }
            
            showView(appState.currentView);
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–∞–∑–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
        function showView(view) {
            // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
            heroSection.style.display = 'none';
            beatsSection.style.display = 'none';
            producersSection.style.display = 'none';
            aboutSection.style.display = 'none';
            uploadSection.style.display = 'none';
            beatDetail.style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ
            if (view === 'home') {
                heroSection.style.display = 'block';
                homeLink.classList.add('active');
                appState.currentView = 'home';
            } else if (view === 'beats') {
                beatsSection.style.display = 'block';
                beatsLink.classList.add('active');
                appState.currentView = 'beats';
            } else if (view === 'producers') {
                producersSection.style.display = 'block';
                producersLink.classList.add('active');
                appState.currentView = 'producers';
            } else if (view === 'about') {
                aboutSection.style.display = 'block';
                aboutLink.classList.add('active');
                appState.currentView = 'about';
            } else if (view === 'upload') {
                uploadSection.style.display = 'block';
                appState.currentView = 'upload';
            } else if (view === 'beatDetail') {
                beatDetail.style.display = 'block';
                appState.currentView = 'beatDetail';
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('currentView', appState.currentView);
        }

        // –†–µ–Ω–¥–µ—Ä–∏–º –±–∏—Ç—ã –≤ —Å–µ—Ç–∫—É
        function renderBeats() {
            beatsGrid.innerHTML = '';
            
            beatsData.forEach(beat => {
                const user = usersData[beat.producerId];
                const beatCard = document.createElement('div');
                beatCard.className = 'beat-card';
                beatCard.innerHTML = `
                    <div class="beat-image">
                        <img src="${beat.image}" alt="${beat.title}" onerror="this.src='https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80'">
                        <div class="play-button" data-beat-id="${beat.id}">
                            <i class="fas fa-play"></i>
                        </div>
                    </div>
                    <div class="beat-info">
                        <h3 class="beat-title">${beat.title}</h3>
                        <p class="beat-producer">
                            <img src="${user.avatar}" alt="${user.name}" class="producer-avatar" onerror="this.src='https://via.placeholder.com/24/6C63FF/FFFFFF?text=U'">
                            by ${user.name}
                        </p>
                        <div class="beat-stats">
                            <div class="beat-stat">
                                <i class="fas fa-play"></i> ${beat.plays}
                            </div>
                            <div class="beat-stat">
                                <i class="fas fa-shopping-cart"></i> ${beat.purchases}
                            </div>
                            <div class="beat-stat">
                                <i class="far fa-calendar"></i> ${formatDate(beat.uploadDate)}
                            </div>
                        </div>
                        <div class="beat-price">${beat.price} ETH</div>
                        <div class="beat-actions">
                            <button class="reaction-btn ${beat.isLiked ? 'active' : ''}" data-beat-id="${beat.id}">
                                <i class="fas fa-heart"></i> <span>${beat.likes}</span>
                            </button>
                            <button class="buy-btn" data-beat-id="${beat.id}">–ö—É–ø–∏—Ç—å</button>
                        </div>
                    </div>
                `;
                beatsGrid.appendChild(beatCard);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –±–∏—Ç–æ–≤
            setupBeatEventListeners();
        }

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –¥–ª—è –±–∏—Ç–æ–≤
        function setupBeatEventListeners() {
            document.querySelectorAll('.play-button').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const beatId = parseInt(this.getAttribute('data-beat-id'));
                    playBeat(beatId);
                });
            });
            
            document.querySelectorAll('.reaction-btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const beatId = parseInt(this.getAttribute('data-beat-id'));
                    toggleLike(beatId);
                });
            });
            
            document.querySelectorAll('.buy-btn').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const beatId = parseInt(this.getAttribute('data-beat-id'));
                    buyBeat(beatId);
                });
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π
            document.querySelectorAll('.beat-card').forEach(card => {
                card.addEventListener('click', function(e) {
                    // –ù–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫–∏
                    if (!e.target.closest('.play-button') && 
                        !e.target.closest('.reaction-btn') && 
                        !e.target.closest('.buy-btn')) {
                        const beatId = parseInt(this.querySelector('.play-button').getAttribute('data-beat-id'));
                        showBeatDetail(beatId);
                    }
                });
            });
        }

        // –†–µ–Ω–¥–µ—Ä–∏–º –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
        function renderProducers() {
            producersGrid.innerHTML = '';
            
            Object.keys(usersData).forEach(userId => {
                const user = usersData[userId];
                const producerCard = document.createElement('div');
                producerCard.className = 'producer-card';
                producerCard.innerHTML = `
                    <img src="${user.avatar}" alt="${user.name}" class="producer-card-avatar" onerror="this.src='https://via.placeholder.com/80/6C63FF/FFFFFF?text=P'">
                    <h3 class="producer-card-name">${user.name}</h3>
                    <div class="producer-card-rating">
                        ${renderStars(user.rating)}
                    </div>
                    <div class="producer-card-stats">
                        <div class="producer-card-stat">
                            <div class="producer-card-stat-value">${user.totalSales}</div>
                            <div class="producer-card-stat-label">–ü—Ä–æ–¥–∞–∂</div>
                        </div>
                        <div class="producer-card-stat">
                            <div class="producer-card-stat-value">${user.totalEarnings.toFixed(1)}</div>
                            <div class="producer-card-stat-label">ETH</div>
                        </div>
                    </div>
                    <button class="btn btn-primary" data-producer-id="${userId}">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–∏—Ç—ã</button>
                `;
                producersGrid.appendChild(producerCard);
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤
            document.querySelectorAll('.producer-card button').forEach(button => {
                button.addEventListener('click', function() {
                    const producerId = this.getAttribute('data-producer-id');
                    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–∞ –±—ã —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –±–∏—Ç–æ–≤ –ø–æ –ø—Ä–æ–¥–∞–≤—Ü—É
                    showView('beats');
                    showNotification(`–ü–æ–∫–∞–∑–∞–Ω—ã –±–∏—Ç—ã –æ—Ç ${usersData[producerId].name}`, 'info');
                });
            });
        }

        // –†–µ–Ω–¥–µ—Ä–∏–º –∑–≤–µ–∑–¥—ã —Ä–µ–π—Ç–∏–Ω–≥–∞
        function renderStars(rating) {
            let stars = '';
            for (let i = 1; i <= 5; i++) {
                if (i <= Math.floor(rating)) {
                    stars += '<i class="fas fa-star"></i>';
                } else if (i === Math.ceil(rating) && rating % 1 !== 0) {
                    stars += '<i class="fas fa-star-half-alt"></i>';
                } else {
                    stars += '<i class="far fa-star"></i>';
                }
            }
            return stars;
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–µ—Ç–∞–ª–∏ –±–∏—Ç–∞
        function showBeatDetail(beatId) {
            const beat = beatsData.find(b => b.id === beatId);
            if (!beat) return;
            
            const user = usersData[beat.producerId];
            const joinDate = new Date(user.joinDate);
            const now = new Date();
            const monthsOnPlatform = Math.floor((now - joinDate) / (1000 * 60 * 60 * 24 * 30));
            
            beatDetailContent.innerHTML = `
                <div class="beat-detail-image">
                    <img src="${beat.image}" alt="${beat.title}" onerror="this.src='https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80'">
                </div>
                <div class="beat-detail-info">
                    <h1 class="beat-detail-title">${beat.title}</h1>
                    <div class="producer-info">
                        <img src="${user.avatar}" alt="${user.name}" class="producer-avatar-large" onerror="this.src='https://via.placeholder.com/50/6C63FF/FFFFFF?text=P'">
                        <div class="producer-details">
                            <h3>${user.name}</h3>
                            <div class="producer-stats">
                                <span>–ù–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ: ${monthsOnPlatform} –º–µ—Å.</span>
                                <span>–ü—Ä–æ–¥–∞–Ω–æ –±–∏—Ç–æ–≤: ${user.totalSales}</span>
                                <span>–†–µ–π—Ç–∏–Ω–≥: ${user.rating}/5</span>
                            </div>
                        </div>
                    </div>
                    <p>${beat.description}</p>
                    <div class="beat-detail-stats">
                        <div class="beat-detail-stat">
                            <div class="stat-value">${beat.plays}</div>
                            <div class="stat-label">–ü—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π</div>
                        </div>
                        <div class="beat-detail-stat">
                            <div class="stat-value">${beat.purchases}</div>
                            <div class="stat-label">–ü–æ–∫—É–ø–æ–∫</div>
                        </div>
                        <div class="beat-detail-stat">
                            <div class="stat-value">${beat.likes}</div>
                            <div class="stat-label">–õ–∞–π–∫–æ–≤</div>
                        </div>
                        <div class="beat-detail-stat">
                            <div class="stat-value">${formatDate(beat.uploadDate)}</div>
                            <div class="stat-label">–ó–∞–≥—Ä—É–∂–µ–Ω</div>
                        </div>
                    </div>
                    <div class="beat-detail-price">${beat.price} ETH</div>
                    <div class="beat-detail-actions">
                        <button class="btn btn-primary" id="detailPlayButton" data-beat-id="${beat.id}">
                            <i class="fas fa-play"></i> –°–ª—É—à–∞—Ç—å
                        </button>
                        <button class="btn btn-secondary" id="detailBuyButton" data-beat-id="${beat.id}">
                            <i class="fas fa-shopping-cart"></i> –ö—É–ø–∏—Ç—å —Å–µ–π—á–∞—Å
                        </button>
                        <button class="reaction-btn ${beat.isLiked ? 'active' : ''}" data-beat-id="${beat.id}">
                            <i class="fas fa-heart"></i> <span>${beat.likes}</span>
                        </button>
                    </div>
                </div>
            `;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª–µ–π
            document.getElementById('detailPlayButton').addEventListener('click', function() {
                playBeat(beatId);
            });
            
            document.getElementById('detailBuyButton').addEventListener('click', function() {
                buyBeat(beatId);
            });
            
            document.querySelector('.beat-detail-info .reaction-btn').addEventListener('click', function() {
                toggleLike(beatId);
            });
            
            showView('beatDetail');
        }

        // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞
            connectWalletBtn.addEventListener('click', toggleWalletModal);
            
            walletOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const walletType = this.getAttribute('data-wallet');
                    connectWallet(walletType);
                });
            });
            
            disconnectWalletBtn.addEventListener('click', disconnectWallet);
            
            // –í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤
            withdrawBtn.addEventListener('click', openWithdrawModal);
            closeWithdrawModal.addEventListener('click', closeWithdrawModalFunc);
            confirmWithdraw.addEventListener('click', confirmWithdrawFunc);
            withdrawAmount.addEventListener('input', updateWithdrawInfo);
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            exploreBeatsBtn.addEventListener('click', function() {
                showView('beats');
            });
            
            uploadBeatBtn.addEventListener('click', function() {
                if (!appState.connectedWallet) {
                    showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ —Å–Ω–∞—á–∞–ª–∞', 'error');
                    return;
                }
                showView('upload');
            });
            
            backButton.addEventListener('click', function() {
                showView('beats');
            });
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å—Å—ã–ª–∫–∏
            homeLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('home');
            });
            
            beatsLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('beats');
            });
            
            producersLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('producers');
            });
            
            aboutLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('about');
            });
            
            footerHomeLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('home');
            });
            
            footerBeatsLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('beats');
            });
            
            footerProducersLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('producers');
            });
            
            footerAboutLink.addEventListener('click', function(e) {
                e.preventDefault();
                showView('about');
            });
            
            // –ó–∞–≥—Ä—É–∑–∫–∞ –±–∏—Ç–∞
            uploadBeatSubmit.addEventListener('click', uploadBeat);
            
            // –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
            adminBtn.addEventListener('click', toggleAdminModal);
            saveAdminSettings.addEventListener('click', saveAdminSettingsFunc);
            siteLogoInput.addEventListener('change', handleLogoUpload);
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –∏—Ö
            window.addEventListener('click', function(event) {
                if (event.target === walletModal) {
                    walletModal.classList.remove('active');
                }
                if (event.target === withdrawModal) {
                    closeWithdrawModalFunc();
                }
                if (event.target === adminModal) {
                    adminModal.classList.remove('active');
                }
            });
        }

        // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∫–æ—à–µ–ª—å–∫–∞ —Å —Ä–µ–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π
        function toggleWalletModal() {
            walletModal.classList.toggle('active');
        }

        async function connectWallet(walletType) {
            try {
                let accounts = [];
                let deeplink = null;
                
                switch(walletType) {
                    case 'metamask':
                        if (typeof window.ethereum !== 'undefined') {
                            accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                            // –ü–æ–ª—É—á–∞–µ–º –±–∞–ª–∞–Ω—Å
                            const balance = await window.ethereum.request({
                                method: 'eth_getBalance',
                                params: [accounts[0], 'latest']
                            });
                            appState.userBalance = parseInt(balance) / 1e18;
                        } else {
                            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É MetaMask –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
                            window.open('https://metamask.io/download.html', '_blank');
                            showNotification('MetaMask –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω! –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–≥—Ä—É–∑–∫–∏.', 'error');
                            return;
                        }
                        break;
                        
                    case 'phantom':
                        if (window.solana && window.solana.isPhantom) {
                            const response = await window.solana.connect();
                            accounts = [response.publicKey.toString()];
                            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª –±—ã –∑–∞–ø—Ä–æ—Å –±–∞–ª–∞–Ω—Å–∞ SOL
                            appState.userBalance = (Math.random() * 2).toFixed(4);
                        } else {
                            // –û—Ç–∫—Ä—ã–≤–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É Phantom –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ
                            window.open('https://phantom.app/', '_blank');
                            showNotification('Phantom –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω! –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞–≥—Ä—É–∑–∫–∏.', 'error');
                            return;
                        }
                        break;
                        
                    case 'tonkeeper':
                        // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TON
                        deeplink = `https://app.tonkeeper.com/ton-connect`;
                        accounts = [`EQ${Math.random().toString(16).substr(2, 40)}`];
                        appState.userBalance = (Math.random() * 2).toFixed(4);
                        
                        // –û—Ç–∫—Ä—ã–≤–∞–µ–º Tonkeeper —á–µ—Ä–µ–∑ deeplink
                        if (deeplink) {
                            window.open(deeplink, '_blank');
                        }
                        break;
                        
                    case 'telegram':
                        // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Wallet
                        deeplink = `tg://wallet`;
                        accounts = [`0x${Math.random().toString(16).substr(2, 40)}`];
                        appState.userBalance = (Math.random() * 2).toFixed(4);
                        
                        // –ü—ã—Ç–∞–µ–º—Å—è –æ—Ç–∫—Ä—ã—Ç—å Telegram —á–µ—Ä–µ–∑ deeplink
                        if (deeplink) {
                            window.location.href = deeplink;
                            // –ï—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∏–ª–æ—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é
                            setTimeout(() => {
                                showNotification('–ï—Å–ª–∏ Telegram –Ω–µ –æ—Ç–∫—Ä—ã–ª—Å—è, —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Telegram –∏ –∫–æ—à–µ–ª–µ–∫', 'info');
                            }, 1000);
                        }
                        break;
                        
                    default:
                        showNotification('–ù–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ç–∏–ø –∫–æ—à–µ–ª—å–∫–∞', 'error');
                        return;
                }
                
                if (accounts.length === 0 && !deeplink) {
                    showNotification('–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∫–æ—à–µ–ª—å–∫—É', 'error');
                    return;
                }
                
                appState.connectedWallet = accounts[0] || 'connected';
                appState.walletType = walletType;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                localStorage.setItem('connectedWallet', appState.connectedWallet);
                localStorage.setItem('walletType', appState.walletType);
                localStorage.setItem('userBalance', appState.userBalance);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                if (accounts[0]) {
                    walletAddress.textContent = `${appState.connectedWallet.substring(0, 6)}...${appState.connectedWallet.substring(appState.connectedWallet.length - 4)}`;
                } else {
                    walletAddress.textContent = '–ü–æ–¥–∫–ª—é—á–µ–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ';
                }
                walletBalance.textContent = appState.userBalance.toFixed(4);
                walletInfo.classList.add('active');
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
                connectWalletBtn.innerHTML = `<i class="fas fa-wallet"></i> ${formatWalletName(walletType)}`;
                
                // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
                walletModal.classList.remove('active');
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
                showNotification(`–£—Å–ø–µ—à–Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω ${formatWalletName(walletType)}`, 'success');
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–æ—à–µ–ª—å–∫–∞', 'error');
            }
        }

        function formatWalletName(walletType) {
            const names = {
                'metamask': 'MetaMask',
                'telegram': 'Telegram Wallet',
                'tonkeeper': 'Tonkeeper',
                'phantom': 'Phantom'
            };
            return names[walletType] || walletType;
        }

        function disconnectWallet() {
            appState.connectedWallet = null;
            appState.walletType = null;
            appState.userBalance = 0;
            
            // –£–¥–∞–ª—è–µ–º –∏–∑ localStorage
            localStorage.removeItem('connectedWallet');
            localStorage.removeItem('walletType');
            localStorage.removeItem('userBalance');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            walletInfo.classList.remove('active');
            connectWalletBtn.innerHTML = `<i class="fas fa-wallet"></i> Connect Wallet`;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ
            showNotification('–ö–æ—à–µ–ª–µ–∫ –æ—Ç–∫–ª—é—á–µ–Ω', 'info');
        }

        // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –±–∏—Ç–æ–≤
        function playBeat(beatId) {
            const beat = beatsData.find(b => b.id === beatId);
            
            if (!beat) return;
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ç–µ–∫—É—â–µ–µ –∞—É–¥–∏–æ –µ—Å–ª–∏ –∏–≥—Ä–∞–µ—Ç
            if (appState.currentAudio) {
                appState.currentAudio.pause();
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—Å–µ –∫–Ω–æ–ø–∫–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
                document.querySelectorAll('.play-button i').forEach(icon => {
                    icon.className = 'fas fa-play';
                });
            }
            
            // –°–æ–∑–¥–∞–µ–º –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –Ω–æ–≤–æ–µ –∞—É–¥–∏–æ
            appState.currentAudio = new Audio(beat.audio);
            appState.currentAudio.play();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –Ω–∞ –ø–∞—É–∑—É
            const playButton = document.querySelector(`.play-button[data-beat-id="${beatId}"] i`);
            if (playButton) {
                playButton.className = 'fas fa-pause';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–µ—Ç–∞–ª–µ–π –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞
            const detailPlayButton = document.getElementById('detailPlayButton');
            if (detailPlayButton && parseInt(detailPlayButton.getAttribute('data-beat-id')) === beatId) {
                detailPlayButton.innerHTML = '<i class="fas fa-pause"></i> –ü–∞—É–∑–∞';
            }
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∫–æ–≥–¥–∞ –∞—É–¥–∏–æ –∑–∞–∫–æ–Ω—á–∏—Ç—Å—è
            appState.currentAudio.onended = function() {
                if (playButton) {
                    playButton.className = 'fas fa-play';
                }
                if (detailPlayButton && parseInt(detailPlayButton.getAttribute('data-beat-id')) === beatId) {
                    detailPlayButton.innerHTML = '<i class="fas fa-play"></i> –°–ª—É—à–∞—Ç—å';
                }
            };
            
            // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π
            beat.plays++;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('beatsData', JSON.stringify(beatsData));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π
            if (appState.currentView === 'beatDetail' && 
                parseInt(document.getElementById('detailPlayButton').getAttribute('data-beat-id')) === beatId) {
                document.querySelector('.beat-detail-stats .stat-value').textContent = beat.plays;
            }
        }

        function toggleLike(beatId) {
            const beat = beatsData.find(b => b.id === beatId);
            
            if (!beat) return;
            
            if (beat.isLiked) {
                beat.likes--;
                beat.isLiked = false;
            } else {
                beat.likes++;
                beat.isLiked = true;
            }
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('beatsData', JSON.stringify(beatsData));
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            const likeButtons = document.querySelectorAll(`.reaction-btn[data-beat-id="${beatId}"]`);
            likeButtons.forEach(likeButton => {
                const likeCount = likeButton.querySelector('span');
                
                likeButton.classList.toggle('active');
                likeCount.textContent = beat.likes;
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–µ–π –µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–∞
            if (appState.currentView === 'beatDetail' && 
                parseInt(document.getElementById('detailPlayButton').getAttribute('data-beat-id')) === beatId) {
                document.querySelector('.beat-detail-stats .stat-value:nth-child(3)').textContent = beat.likes;
            }
        }

        async function buyBeat(beatId) {
            if (!appState.connectedWallet) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ —Å–Ω–∞—á–∞–ª–∞', 'error');
                return;
            }
            
            const beat = beatsData.find(b => b.id === beatId);
            
            if (!beat) return;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å
            if (appState.userBalance < beat.price) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤ –Ω–∞ –±–∞–ª–∞–Ω—Å–µ', 'error');
                return;
            }
            
            try {
                // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∞—Å—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
                // –î–ª—è –¥–µ–º–æ —Å–∏–º—É–ª–∏—Ä—É–µ–º —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
                
                // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –∏ —á–∏—Å—Ç—É—é —Å—É–º–º—É
                const commission = (beat.price * appState.commissionRate) / 100;
                const netAmount = beat.price - commission;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å—ã (—Å–∏–º—É–ª—è—Ü–∏—è)
                appState.userBalance -= beat.price;
                walletBalance.textContent = appState.userBalance.toFixed(4);
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –±–∏—Ç–∞
                beat.purchases++;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø—Ä–æ–¥–∞–≤—Ü–∞
                const user = usersData[beat.producerId];
                user.totalSales++;
                user.totalEarnings += netAmount;
                
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                localStorage.setItem('userBalance', appState.userBalance);
                localStorage.setItem('beatsData', JSON.stringify(beatsData));
                localStorage.setItem('usersData', JSON.stringify(usersData));
                
                // –û–±–Ω–æ–≤–ª—è–µ–º UI
                if (appState.currentView === 'beatDetail' && 
                    parseInt(document.getElementById('detailPlayButton').getAttribute('data-beat-id')) === beatId) {
                    document.querySelector('.beat-detail-stats .stat-value:nth-child(2)').textContent = beat.purchases;
                }
                
                showNotification(
                    `–ü–æ–∫—É–ø–∫–∞ —É—Å–ø–µ—à–Ω–∞! ${netAmount.toFixed(4)} ETH –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–æ–¥–∞–≤—Ü—É. –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: ${commission.toFixed(4)} ETH.`, 
                    'success'
                );
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏:', error);
                showNotification('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏', 'error');
            }
        }

        function uploadBeat() {
            const title = document.getElementById('beatTitle').value;
            const description = document.getElementById('beatDescription').value;
            const price = parseFloat(document.getElementById('beatPrice').value);
            const file = document.getElementById('beatFile').files[0];
            const image = document.getElementById('beatImage').files[0];
            
            if (!title || !description || !price || !file) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è', 'error');
                return;
            }
            
            if (!appState.connectedWallet) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ —Å–Ω–∞—á–∞–ª–∞', 'error');
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –±–∏—Ç–∞
            const newBeat = {
                id: beatsData.length + 1,
                title: title,
                producer: 'You', // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã–ª–æ –±—ã –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                producerId: 'current_user',
                producerAvatar: 'https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YXZhdGFyfGVufDB8fDB8fHww&auto=format&fit=crop&w=100&q=60',
                producerJoinDate: new Date().toISOString().split('T')[0],
                producerSales: 0,
                price: price,
                image: image ? URL.createObjectURL(image) : 'https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80',
                likes: 0,
                isLiked: false,
                plays: 0,
                purchases: 0,
                uploadDate: new Date().toISOString().split('T')[0],
                audio: URL.createObjectURL(file),
                description: description
            };
            
            // –î–æ–±–∞–≤–ª—è–µ–º –≤ –¥–∞–Ω–Ω—ã–µ –±–∏—Ç–æ–≤
            beatsData.unshift(newBeat);
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('beatsData', JSON.stringify(beatsData));
            
            // –ü–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞–µ–º –±–∏—Ç—ã
            renderBeats();
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É
            document.getElementById('beatTitle').value = '';
            document.getElementById('beatDescription').value = '';
            document.getElementById('beatPrice').value = '';
            document.getElementById('beatFile').value = '';
            document.getElementById('beatImage').value = '';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ
            showNotification('–ë–∏—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!', 'success');
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ —Ä–∞–∑–¥–µ–ª –±–∏—Ç–æ–≤
            showView('beats');
        }

        // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
        function openWithdrawModal() {
            if (!appState.connectedWallet) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ —Å–Ω–∞—á–∞–ª–∞', 'error');
                return;
            }
            
            withdrawModal.classList.add('active');
            updateWithdrawInfo();
        }

        function closeWithdrawModalFunc() {
            withdrawModal.classList.remove('active');
        }

        function updateWithdrawInfo() {
            const amount = parseFloat(withdrawAmount.value) || 0;
            const commission = (amount * appState.commissionRate) / 100;
            const receive = amount - commission;
            
            withdrawCommission.textContent = `${appState.commissionRate}% (${commission.toFixed(4)} ETH)`;
            withdrawReceive.textContent = `${receive.toFixed(4)} ETH`;
        }

        function confirmWithdrawFunc() {
            const amount = parseFloat(withdrawAmount.value);
            
            if (!amount || amount <= 0) {
                showNotification('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É', 'error');
                return;
            }
            
            if (amount > parseFloat(appState.userBalance)) {
                showNotification('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤', 'error');
                return;
            }
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é –∏ —á–∏—Å—Ç—É—é —Å—É–º–º—É
            const commission = (amount * appState.commissionRate) / 100;
            const netAmount = amount - commission;
            
            // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –≤—ã–≤–æ–¥ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ
            // –î–ª—è –¥–µ–º–æ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
            
            showNotification(
                `–í—ã–≤–æ–¥ —É—Å–ø–µ—à–µ–Ω! ${netAmount.toFixed(4)} ETH –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ –≤–∞—à –∫–æ—à–µ–ª–µ–∫. –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã: ${commission.toFixed(4)} ETH.`, 
                'success'
            );
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–∏–º—É–ª—è—Ü–∏—è)
            appState.userBalance = (parseFloat(appState.userBalance) - amount).toFixed(4);
            walletBalance.textContent = appState.userBalance;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('userBalance', appState.userBalance);
            
            // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
            closeWithdrawModalFunc();
        }

        // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        function toggleAdminModal() {
            adminModal.classList.toggle('active');
        }

        function saveAdminSettingsFunc() {
            const newCommissionRate = parseInt(commissionRateInput.value);
            
            if (newCommissionRate < 1 || newCommissionRate > 20) {
                showNotification('–ö–æ–º–∏—Å—Å–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –º–µ–∂–¥—É 1% –∏ 20%', 'error');
                return;
            }
            
            appState.commissionRate = newCommissionRate;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
            localStorage.setItem('commissionRate', newCommissionRate);
            
            showNotification('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
            adminModal.classList.remove('active');
        }

        function handleLogoUpload(event) {
            const file = event.target.files[0];
            
            if (file) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    siteLogoImg.src = e.target.result;
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–Ω–æ—Å—Ç–∏
                    localStorage.setItem('siteLogo', e.target.result);
                };
                
                reader.readAsDataURL(file);
            }
        }

        function loadAdminSettings() {
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–æ–º–∏—Å—Å–∏—é
            const savedCommissionRate = localStorage.getItem('commissionRate');
            if (savedCommissionRate) {
                appState.commissionRate = parseInt(savedCommissionRate);
                commissionRateInput.value = appState.commissionRate;
            }
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –ª–æ–≥–æ—Ç–∏–ø —Å–∞–π—Ç–∞
            const savedLogo = localStorage.getItem('siteLogo');
            if (savedLogo) {
                siteLogoImg.src = savedLogo;
            }
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) {
                return '1 –¥–µ–Ω—å –Ω–∞–∑–∞–¥';
            } else if (diffDays < 7) {
                return `${diffDays} –¥–Ω–µ–π –Ω–∞–∑–∞–¥`;
            } else if (diffDays < 30) {
                const weeks = Math.floor(diffDays / 7);
                return `${weeks} ${weeks === 1 ? '–Ω–µ–¥–µ–ª—è' : '–Ω–µ–¥–µ–ª—å'} –Ω–∞–∑–∞–¥`;
            } else {
                const months = Math.floor(diffDays / 30);
                return `${months} ${months === 1 ? '–º–µ—Å—è—Ü' : '–º–µ—Å—è—Ü–µ–≤'} –Ω–∞–∑–∞–¥`;
            }
        }

        function showNotification(message, type) {
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
            document.body.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100px)';
                
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
